4:"$Sreact.fragment"
5:I[6154,["839","static/chunks/839-7f2ca11332c314f2.js","177","static/chunks/app/layout-5b0fbb215f9c4aa7.js"],"ThemeProvider"]
6:I[4839,["839","static/chunks/839-7f2ca11332c314f2.js","530","static/chunks/app/posts/page-52b047634ea1e9b5.js"],""]
7:I[5244,[],""]
8:I[3866,[],""]
a:I[6213,[],"OutletBoundary"]
c:I[6213,[],"MetadataBoundary"]
e:I[6213,[],"ViewportBoundary"]
10:I[4835,[],""]
1:HL["/_next/static/media/4473ecc91f70f139-s.p.woff","font",{"crossOrigin":"","type":"font/woff"}]
2:HL["/_next/static/media/463dafcda517f24f-s.p.woff","font",{"crossOrigin":"","type":"font/woff"}]
3:HL["/_next/static/css/dc73db5bf5904b54.css","style"]
0:{"P":null,"b":"DwF5hgYrAtUQMMF3n6O2R","p":"","c":["","posts","making-next-portfolio"],"i":false,"f":[[["",{"children":["posts",{"children":["making-next-portfolio",{"children":["__PAGE__",{}]}]}]},"$undefined","$undefined",true],["",["$","$4","c",{"children":[[["$","link","0",{"rel":"stylesheet","href":"/_next/static/css/dc73db5bf5904b54.css","precedence":"next","crossOrigin":"$undefined","nonce":"$undefined"}]],["$","html",null,{"lang":"en","suppressHydrationWarning":true,"children":[["$","head",null,{"children":["$","link",null,{"rel":"stylesheet","href":"https://cdn.jsdelivr.net/npm/katex@0.13.11/dist/katex.css","integrity":"sha384-knaESGLxlQRSHWSJ+ZbTX6/L1bJZWBsBYGb2O+g64XHFuO7CbIj9Pkf1aaVXzIZJ","crossOrigin":"anonymous"}]}],["$","body",null,{"className":"__variable_1e4310 __variable_c3aa02 antialiased","children":[["$","$L5",null,{"attribute":"class","defaultTheme":"system","enableSystem":true,"disableTransitionOnChange":true,"children":[["$","header",null,{"className":"sticky top-0 z-10 border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60","children":["$","div",null,{"className":"container flex h-14 items-center","children":["$","nav",null,{"className":"flex items-center space-x-4 lg:space-x-6 ml-20","children":[["$","$L6",null,{"href":"/","className":"text-sm font-bold transition-colors hover:text-primary","children":"Jotaro Shigeyama"}],["$","$L6",null,{"href":"/posts","className":"text-sm font-medium text-muted-foreground transition-colors hover:text-primary","children":"Blog"}]]}]}]}],["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":[["$","title",null,{"children":"404: This page could not be found."}],["$","div",null,{"style":{"fontFamily":"system-ui,\"Segoe UI\",Roboto,Helvetica,Arial,sans-serif,\"Apple Color Emoji\",\"Segoe UI Emoji\"","height":"100vh","textAlign":"center","display":"flex","flexDirection":"column","alignItems":"center","justifyContent":"center"},"children":["$","div",null,{"children":[["$","style",null,{"dangerouslySetInnerHTML":{"__html":"body{color:#000;background:#fff;margin:0}.next-error-h1{border-right:1px solid rgba(0,0,0,.3)}@media (prefers-color-scheme:dark){body{color:#fff;background:#000}.next-error-h1{border-right:1px solid rgba(255,255,255,.3)}}"}}],["$","h1",null,{"className":"next-error-h1","style":{"display":"inline-block","margin":"0 20px 0 0","padding":"0 23px 0 0","fontSize":24,"fontWeight":500,"verticalAlign":"top","lineHeight":"49px"},"children":"404"}],["$","div",null,{"style":{"display":"inline-block"},"children":["$","h2",null,{"style":{"fontSize":14,"fontWeight":400,"lineHeight":"49px","margin":0},"children":"This page could not be found."}]}]]}]}]],"notFoundStyles":[]}]]}],["$","footer",null,{"className":"mt-20 border-t border-gray-600 py-8 text-center text-sm text-muted-foreground","children":["$","p",null,{"children":"© 2025 Jotaro Shigeyama. All rights reserved. Webpage made by create-next-app@latest."}]}]]}]]}]]}],{"children":["posts",["$","$4","c",{"children":[null,["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]]}],{"children":["making-next-portfolio",["$","$4","c",{"children":[null,["$","$L7",null,{"parallelRouterKey":"children","segmentPath":["children","posts","children","making-next-portfolio","children"],"error":"$undefined","errorStyles":"$undefined","errorScripts":"$undefined","template":["$","$L8",null,{}],"templateStyles":"$undefined","templateScripts":"$undefined","notFound":"$undefined","notFoundStyles":"$undefined"}]]}],{"children":["__PAGE__",["$","$4","c",{"children":["$L9",null,["$","$La",null,{"children":"$Lb"}]]}],{},null]},null]},null]},null],["$","$4","h",{"children":[null,["$","$4","k8sOm6JQ1MyzrGH9-fL6p",{"children":[["$","$Lc",null,{"children":"$Ld"}],["$","$Le",null,{"children":"$Lf"}],["$","meta",null,{"name":"next-size-adjust"}]]}]]}]]],"m":"$undefined","G":["$10","$undefined"],"s":false,"S":true}
11:T3477,<h1>ポートフォリオサイトのアップデート</h1>
<p>これまで<code>Hugo</code>というツールでポートフォリオサイトを管理していたが、アプデでロクにビルドしなくなって更新できなくなったので、流行りの <code>Next.js</code>に乗り換えることにした。とはいえ、最近はReactをいじったこともないし、Typescriptなんてものも触ったことがなかった。</p>
<p>ただ、v0.devやchatGPT、github copilotに教えてもらいながら作業することで、ほとんど勉強することなく作れてしまったのでここでとりあえず記録に残しておく。そういう意味ではとてもいい時代になったものだが、最近はあらゆるアプリがWebベースで作られており、画面上のパフォーマンスを重視するUI研究者としては少し複雑な気分になる。（まぁ静的サイトに限って言えば問題ないのだが・・・）</p>
<h2>next-appの準備</h2>
<p>単純に<code>create-next-app</code>を用いてテンプレを作成。
Github Pagesにホスティングするため、静的ページを生成するように、<code>next.config.ts</code>を設定しておく。<code>next build</code>で、<code>out</code>ディレクトリに静的サイトのためのファイル一式が生成されるようになる。</p>
<pre><code class="language-ts">import type { NextConfig } from &quot;next&quot;;
const nextConfig:NextConfig = {
  output: &quot;export&quot;,
};
export default nextConfig;
</code></pre>
<p>その後、大まかなレイアウトやデザイン、フォントやテーマ等をイメージしたうえで、v0.devやchatgptに、トップページの雛形を書かせた。
今回はスタイルを<code>tailwind</code>に任せているため、スタイルのクラス名を覚えたり、レイアウトを整えたりするのが本来は大変なのだが、ある程度まずはAIに書いてもらったうえで、中身の数字やクラスを都度調べながら直していくことで、スピード感あるWebsite構築を目指す。</p>
<h2>研究業績：コンポーネントのデザインとリスト化</h2>
<p>「研究業績リスト」をきちんと作る必要がある。箇条書きでもいいのだが、サムネイル、gif、各種リンクが見やすいようになっているといいだろう。</p>
<p>コンポーネントはあらかたのデザインをv0.devやchatGPTに伺って、自分で手を加えてファインチューニングした。
研究や業績リストを同一のコンポーネントのコピペで記述するのはあまりに面倒くさかったので、一旦<code>.json</code>ファイルに、研究のタイトル・学会名・authors・award情報を格納し、
コンポーネント側からファイルシステム経由で読み込ませた。</p>
<pre><code class="language-ts">  try {
    const res = await fs.readFile(&#39;public/lectures.json&#39;, &#39;utf-8&#39;);
    const data = JSON.parse(res);
    // if (!res.ok) throw new Error(&#39;Failed to fetch lectures&#39;);
    lectureItems = { lectures: await data };
  } catch (error) {
    console.error(&#39;Error fetching lectures:&#39;, error);
  }
</code></pre>
<p>研究業績には一般的に複数のリンクが付随する（project page, youtube, acm dl, ieee explore, arXivなど）ので、リンクが存在する場合にはバッジを追加するような記述もした。
結果、更新があればjsonファイルの編集とサムネイル画像の追加だけで完結するようにした。</p>
<pre><code class="language-ts">{props.link_arxiv &amp;&amp; &lt;button className=&quot;relative inline-flex items-center justify-center p-0.5 mt-2 me-2 overflow-hidden text-sm font-medium text-gray-900 rounded-lg group bg-gradient-to-br from-red-700 to-red-500 group-hover:from-red-600 group-hover:to-blue-500 hover:text-white dark:text-white&quot; 
onClick={() =&gt; window.open(props.link_arxiv)}&gt;
&lt;span className=&quot;font-bold relative px-1 py-1 transition-all ease-in duration-75 bg-white dark:bg-gray-900 rounded-md group-hover:bg-opacity-0 text-xs&quot;&gt;
arXiv
&lt;/span&gt;
&lt;/button&gt;}
</code></pre>
<h2>ブログ記事への対応</h2>
<p><code>marked</code>ライブラリを用いて、ファイルシステム内の<code>.md</code>ファイルをコンパイルさせ、<code>tailwind-css</code>で体裁を整えたものを使った。
なお、<code>marked</code>ライブラリ単体では、ブログ内に数式を対応させられないので、別途<code>marked-katex-extension</code>プラグインを導入しておく。</p>
<pre><code class="language-ts">import markedKatex from &#39;marked-katex-extension&#39;

///...

marked.use(markedkatex);
</code></pre>
<span class="katex-display"><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML" display="block"><semantics><mtable rowspacing="0.25em" columnalign="right left" columnspacing="0em"><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>u</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi>x</mi></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>v</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi>y</mi></mrow></mfrac><mo separator="true">,</mo></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr><mtr><mtd class ="mtr-glue"></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>u</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi>y</mi></mrow></mfrac></mstyle></mtd><mtd><mstyle scriptlevel="0" displaystyle="true"><mrow><mrow></mrow><mo>=</mo><mo>−</mo><mfrac><mrow><mi mathvariant="normal">∂</mi><mi>v</mi></mrow><mrow><mi mathvariant="normal">∂</mi><mi>x</mi></mrow></mfrac><mi mathvariant="normal">.</mi></mrow></mstyle></mtd><mtd class ="mtr-glue"></mtd><mtd class ="mml-eqn-num"></mtd></mtr></mtable><annotation encoding="application/x-tex">\begin{align}
\frac{\partial u}{\partial x} &amp;= \frac{\partial v}{\partial y}, \\
\frac{\partial u}{\partial y} &amp;= -\frac{\partial v}{\partial x}.
\end{align}</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:5.1038em;vertical-align:-2.3019em;"></span><span class="mtable"><span class="col-align-r"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8019em;"><span style="top:-4.8019em;"><span class="pstrut" style="height:3.3714em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.3714em;"></span><span class="mord"><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal">u</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3019em;"><span></span></span></span></span></span><span class="col-align-l"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8019em;"><span style="top:-4.8019em;"><span class="pstrut" style="height:3.3714em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal" style="margin-right:0.03588em;">y</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.8804em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mpunct">,</span></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.3714em;"></span><span class="mord"><span class="mord"></span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mrel">=</span><span class="mspace" style="margin-right:0.2778em;"></span><span class="mord">−</span><span class="mord"><span class="mopen nulldelimiter"></span><span class="mfrac"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:1.3714em;"><span style="top:-2.314em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal">x</span></span></span><span style="top:-3.23em;"><span class="pstrut" style="height:3em;"></span><span class="frac-line" style="border-bottom-width:0.04em;"></span></span><span style="top:-3.677em;"><span class="pstrut" style="height:3em;"></span><span class="mord"><span class="mord" style="margin-right:0.05556em;">∂</span><span class="mord mathnormal" style="margin-right:0.03588em;">v</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:0.686em;"><span></span></span></span></span></span><span class="mclose nulldelimiter"></span></span><span class="mord">.</span></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3019em;"><span></span></span></span></span></span></span></span><span class="tag"><span class="vlist-t vlist-t2"><span class="vlist-r"><span class="vlist" style="height:2.8019em;"><span style="top:-4.8019em;"><span class="pstrut" style="height:3.3714em;"></span><span class="eqn-num"></span></span><span style="top:-2.25em;"><span class="pstrut" style="height:3.3714em;"></span><span class="eqn-num"></span></span></span><span class="vlist-s">​</span></span><span class="vlist-r"><span class="vlist" style="height:2.3019em;"><span></span></span></span></span></span></span></span></span>
<h2>まとめ</h2>
<p>publishした研究というのは意外にも色んな人に見られている。以前にpublishした研究が、自国・他国の大学の「輪読の宿題」になっていることもしばしばだ。
その伝で、ポートフォリオサイトも見られることもあるので、折に触れて整えておくべきだと思う。
学会で見知らぬ人にホームページを見たことがあるとか、Twitterフォローしているとか言われることはしばしばある。
ついこの間もph.d時代のボスに「メールアドレスが古いままだぞ」と突っ込まれてしまった。</p>
<p>自分の卒論がPublishされたばかりの修士の学生は、すぐにでもポートフォリオサイトを持っていたほうがいい。
参考までに、このポートフォリオサイトの構築に使ったコードはGithubにアップロードする予定だ。</p>
9:["$","div",null,{"className":"max-w-4xl mx-auto px-4 py-8","children":["$","article",null,{"className":"","children":[["$","div",null,{"className":"font-serif","children":"blog post"}],["$","h1",null,{"className":"text-4xl font-light mb-2","children":"Next.jsでポートフォリオサイトをつくる"}],["$","div",null,{"className":"text-gray-600 mb-12 text-sm","children":"2024-02-25"}],["$","div",null,{"className":"myMarkdown","dangerouslySetInnerHTML":{"__html":"$11"}}]]}]}]
f:[["$","meta","0",{"name":"viewport","content":"width=device-width, initial-scale=1"}]]
d:[["$","meta","0",{"charSet":"utf-8"}],["$","title","1",{"children":"Jotaro Shigeyama"}],["$","meta","2",{"name":"description","content":"Portfolio website of Dr. Jotaro Shigeyama"}],["$","link","3",{"rel":"icon","href":"/favicon.ico","type":"image/x-icon","sizes":"16x16"}]]
b:null
